---
layout: post
title: üè¥ send(), recv() –≥—Ä–∞–Ω–∏—á–Ω–∏ —Å–ª—É—á–∞—ò–µ–≤–∏
lang: sr
---

–û—Å–º–∏—à—ô–∞–≤–∞—ö–µ, –ø—Ä–∞–≤—ô–µ—ö–µ –∏ –æ–ø–∏—Å–∏–≤–∞—ö–µ –≥—Ä–∞–Ω–∏—á–Ω–∏—Ö —Å–ª—É—á–∞—ò–µ–≤–∞ —ò–µ —Ç–µ—à–∫–æ —ò–µ—Ä
–Ω–∏—ò–µ "–∑–∞–±–∞–≤–Ω–æ". –£–≥–ª–∞–≤–Ω–æ–º –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–º–æ –¥–∞ —ò–µ –Ω–µ–∫–∏ –æ–ø—à—Ç–∏ –æ–ø–∏—Å –¥–æ–≤–æ—ô–Ω–æ
–¥–æ–±–∞—Ä –∑–∞ –≥—Ä–∞–Ω–∏—á–Ω–µ —Å–ª—É—á–∞—ò–µ–≤–µ. –ü–∞, –∞–∫–æ –±–∞—à –∏ –Ω–∏—ò–µ, —Ç–æ —ò–µ, –±—Ä–µ, –≥—Ä–∞–Ω–∏—á–Ω–∏
—Å–ª—É—á–∞—ò, —Ä–µ—Ç–∫–æ —Å–µ –¥–µ—à–∞–≤–∞ –∏ –∞–∫–æ —Å–µ –Ω–∏—à—Ç–∞ –Ω–µ "—Å–ø—É—Ü–∞–≤–∞", —É —Ä–µ–¥—É —ò–µ.  –ê–ª–∏,
–æ–≤–¥–µ –ø—Ä–∏—á–∞–º–æ –æ –ø—Ä–æ–≥—Ä–∞–º—Å–∫–æ—ò –ø–æ–¥—Ä—à—Ü–∏, –∫–æ—ò–∞ –Ω–µ–º–∞ –¥—É—à—É –∏ –Ω–µ–º–∞ –º–∏—ô–µ–Ω–∏–∫–µ
–º–µ—í—É –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏–º–∞ –∏ (–≥—Ä–∞–Ω–∏—á–Ω–∏–º —Å–ª—É—á–∞—ò–µ–≤–∏–º–∞).  –î–∞–∫–ª–µ, —Å–≤–∞–∫–∏ –≥—Ä–∞–Ω–∏—á–Ω–∏
—Å–ª—É—á–∞—ò –±–∏ —Ç—Ä–µ–±–∞–ª–æ –¥–∞ –±—É–¥–µ "–ø—Ä–æ—Å—Ç–æ —ò–æ—à —ò–µ–¥–∞–Ω —Å–ª—É—á–∞—ò".

## –£—Ç–∏—á–Ω–∏—Ü–µ-—Å–æ–∫–µ—Ç–∏ –∫–æ—ò–∏ —à–∞—ô—É –∏ –ø—Ä–∏–º–∞—ò—É... –Ω–∏—à—Ç–∞

–£–∑–º–∏–º–æ –∑–∞ –ø—Ä–∏–º–µ—Ä –¥–æ–±—Ä–æ –ø–æ–∑–Ω–∞—Ç–µ —É—Ç–∏—á–Ωe (–µ–Ω–≥. _socket_) —Ñ—É–Ω–∫—Ü–∏—ò–µ
`send()` –∏ `recv()`. –û–±–µ –ø—Ä–∏–º–∞—ò—É —Å–∫–ª–∞–¥–∏—à—Ç–µ (–∑–∞ –ø—Ä–∏—ò–µ–º –∏–ª–∏ –ø—Ä–µ–¥–∞—ò—É) –∏
–¥—É–∂–∏–Ω—É —Ç–æ–≥ —Å–∫–ª–∞–¥–∏—à—Ç–∞ (—É –æ–∫—Ç–µ—Ç–∏–º–∞). –£ –¶-—É, —Ç–æ –∏–∑–≥–ª–µ–¥–∞ –æ—Ç–ø—Ä–∏–ª–∏–∫–µ
–æ–≤–∞–∫–æ:

```c
int send(socket_t skt, uint8_t* buffer, size_t length);
int recv(socket_t skt, uint8_t* buffer, size_t length);

```

–î–µ—Ç–∞—ô–∏ –∑–∞–≤–∏—Å–µ –æ–¥ –æ–¥—Ä–µ—í–µ–Ω–æ–≥ –∏–∑–≤–æ—í–µ—ö–∞, —Ç–∏–ø–æ–≤–∏ –º–æ–≥—É –¥–∞ —Å–µ —Ä–∞–∑–ª–∏–∫—É—ò—É –∏
–º–æ–∂–µ –±–∏—Ç–∏ —ò–æ—à –ø–∞—Ä–∞–º–µ—Ç–∞—Ä–∞ ("–æ–ø—Ü–∏—ò–µ"). –ù–µ–∫–∏ —ò–µ–∑–∏—Ü–∏ –¥–∞—ò—É —Å–≤–æ—ò—É "—Å–ø—Ä–µ–≥—É
–≤–∏—à–µ–≥ –Ω–∏–≤–æ–∞", –∫–æ—ò–∞ –ø—Ä–∏–º–∞ —Å–∫–ª–∞–¥–∏—à—Ç–µ –∫–∞–æ —ò–µ–¥–∞–Ω –ø–æ–¥–∞—Ç–∞–∫ (–æ–±—ò–µ–∫–∞—Ç) –∫–æ—ò–∏ —É
—Å–µ–±–∏ —Å–∞–¥—Ä–∂–∏ –∏ (–ø–æ–∫–∞–∑–∏–≤–∞—á –Ω–∞) –æ–∫—Ç–µ—Ç–µ –∏ –¥—É–∂–∏–Ω—É, –∞–ª–∏ —Ç–æ –Ω–µ –º–µ—ö–∞ –Ω–∞
—Å—Ç–≤–∞—Ä–∏.  –¢–∞–∫–æ—í–µ, –¥—É–∂–∏–Ω–∞ –º–æ–∂–µ –±–∏—Ç–∏ –æ–∑–Ω–∞—á–µ–Ω–∏ –∏–ª–∏ –Ω–µ–æ–∑–Ω–∞—á–µ–Ω–∏ —Ü–µ–ª–∏ –±—Ä–æ—ò -
–∑–∞ –Ω–∞—à–µ –ø–æ—Ç—Ä–µ–±–µ, –∞–∫–æ —ò–µ –æ–∑–Ω–∞—á–µ–Ω–∏, —Å–º–∞—Ç—Ä–∞–º–æ –¥–∞ —ò–µ –ø—Ä–æ—Å–ª–µ—í–∏–≤–∞—ö–µ –±—Ä–æ—ò–∞
–º–∞—ö–µ–≥ –æ–¥ –Ω—É–ª–∞ –≥—Ä–µ—à–∫–∞ –∏ —Ç–æ –Ω–∞—Å –Ω–µ –∑–∞–Ω–∏–º–∞.

–ó–∞–Ω–∏–º–∞ –Ω–∞—Å –¥–∞ –≤–∏–¥–∏–º–æ —à—Ç–∞ —Å–µ –∑–±–∏–≤–∞ –∞–∫–æ –ø—Ä–æ—Å–ª–µ–¥–∏–º–æ –¥—É–∂–∏–Ω—É –Ω—É–ª–∞: `0`.

–ê–∫–æ —õ–µ–º–æ –ø—Ä–∞–≤–æ, —Ç–æ –±–∞—à –∏ –Ω–µ–º–∞ —Å–º–∏—Å–ª–∞. –®—Ç–∞ –±–∏ –º–∏ —Ç–æ —Ö—Ç–µ–ª–∏, –¥–∞ –ø–æ—à–∞—ô–µ–º–æ
_–Ω–∏—à–ø—Ç–∞_?  –ü—Ä–æ—Å—Ç–æ –Ω–µ–º–æ—ò–º–æ –¥–∞ —à–∞—ô–µ–º–æ _–∏—à—Ç–∞_. –•–æ—õ–µ–º–æ –¥–∞ –ø—Ä–∏–º–∏–º–æ _–Ω–∏—à—Ç–∞_?
–ü–∞, –±–∞—à –ª–µ–ø–æ, –∞–ª–∏, –∑–∞–¥—Ä–∂–∏–º–æ —Ç–æ –∑–∞ —Å–µ–±–µ.

### –ê–∫–æ –Ω–µ–º–∞ —Å–º–∏—Å–ª–∞, –∞ —à—Ç–æ —Ç–æ —É–æ–ø—à—Ç–µ —Ä–∞–¥–∏–º–æ?

–à–µ–¥–∞–Ω –ø—Ä–∏–º–µ—Ä –±–∏ –±–∏–æ –∞–∫–æ —É –Ω–µ–∫–æ–º –æ–ø—à—Ç–µ–º –∫–æ–¥—É –ø—Ä–∏–º–∞—Ç–µ –¥—É–∂–∏–Ω—É –∏ –æ–Ω–¥–∞ —ò–µ
–ø—Ä–æ—Å—Ç–æ –ø—Ä–æ—Å–ª–µ—í—É—ò–µ—Ç–µ. –ù–µ–º–∞ –±–∞—à –º–Ω–æ–≥–æ —Å–º–∏—Å–ª–∞ –¥–∞ "–ø–æ—Å–µ—ò–µ—Ç–µ" `if (length >
0)` –ø–æ —Å–≤–∏–º —Ç–∞–∫–≤–∏–º –º–µ—Å—Ç–∏–º–∞.

```c
int send_b64_encoded(socket_t skt, 
    uint8_t* buffer, size_t length)
{
    uint8_t* encoded = ab64_encode(buffer, &length);
    int rslt = send(skt, encoded, length);
    free(encoded);
    return rslt;
}
```

–û–≤–∞–∫–æ –∏–∑–¥–≤–æ—ò–µ–Ω–æ, —ò–∞—Å–Ω–æ —ò–µ –¥–∞ –¥–æ–¥–∞–≤–∞—ö–µ —ò–µ–¥–Ω–æ–≥ `if` –Ω–∏—ò–µ –ø—Ä–æ–±–ª–µ–º.
–ê–ª–∏, –∞–∫–æ –æ–≤–æ –ø–æ—á–Ω–µ –¥–∞ —Å–µ —à–∏—Ä–∏, —Ä–µ—Ü–∏–º–æ, –¥–æ–¥–∞–≤–∞—ö–µ–º `send_ascii85_encoded()`, 
`send_base41_encoded()`..., –æ–Ω–¥–∞ –º–æ–∂–µ –¥–∞ –ø–æ—Å—Ç–∞–Ω–µ –Ω–∞–ø–æ—Ä–Ω–æ.

–ü–æ—Å–µ–±–Ω–æ, –¥–æ –æ–≤–æ–≥–∞ –º–æ–∂–µ –¥–∞ —Å–µ –¥–æ—í–µ —É—Å–ª–µ–¥ –≥—Ä–µ—à–∫–µ. –†–µ—Ü–∏–º–æ, —á–µ—Å—Ç–æ —Å–µ —à–∞—ô–µ
(–∏ –ø—Ä–∏–º–∞) –Ω–µ–∫–∞ –≤–µ–ª–∏–∫–∞ –∫–æ–ª–∏—á–∏–Ω–∞ –ø–æ–¥–∞—Ç–∞–∫–∞ "–Ω–∞ –ø–∞—Ä—á–µ" (–ø–æ—Å—Ç–æ—ò–µ –º–Ω–æ–≥–∏
—Ä–∞–∑–ª–æ–∑–∏ –∑–∞ —Ç–æ). –ò–º–∞–º–æ —É–∫—É–ø–Ω—É –∫–æ–ª–∏—á–∏–Ω—É –ø–æ–¥–∞—Ç–∞–∫–∞ –¥–∞ –ø–æ—à–∞—ô–µ–º–æ –∫–∞–æ `length
= total_length`, —à–∞—ô–µ–º–æ –ø–∞—Ä—á–µ –ø–æ –ø–∞—Ä—á–µ, —Å–º–∞—ö—É—ò—É—õ–∏ `length -=
length_of_sent_data`. –ù–∞ –∫—Ä–∞—ò—É, –¥–æ—õ–∏ —õ–µ–º–æ –¥–æ `length == 0`, –∫–∞–¥–∞ —Ç—Ä–µ–±–∞
–¥–∞ –ø—Ä–µ—Å—Ç–∞–Ω–µ–º–æ –¥–∞ —à–∞—ô–µ–º–æ. –ê–ª–∏, —É—Å–ª–µ–¥ –Ω–µ–∫–µ –±—É–±–µ —É –∫–æ–¥—É, –º–æ–∂–µ –¥–∞ —Å–µ –¥–µ—Å–∏ –¥–∞
–∏–ø–∞–∫ –ø—Ä–æ–±–∞–º–æ –¥–∞ –ø–æ—à–∞—ô–µ–º–æ —Å–∞ `length == 0`.

### –î–æ–±—Ä–æ, –æ–≤–∞—ò —Å–≤–µ—Ç –Ω–∏—ò–µ —Å–∞–≤—Ä—à–µ–Ω, —à—Ç–∞ —Å–∞–¥?

–î–∞–∫–ª–µ, —à—Ç–∞ —õ–µ  `send()` and `recv()` –¥–∞ —Ä–∞–¥–µ —É –æ–≤–æ–º —Å–ª—É—á–∞—ò—É?

–£ —Å–≤–∏–º –∏–∑–≤–æ—í–µ—ö–∏–º–∞ —É—Ç–∏—á–Ω–∏—Ü–∞ –∏–ª–∏ –∏—á–µ–≥ —Å–ª–∏—á–Ω–æ–≥, –æ–≤–æ –Ω–∏—ò–µ –æ–ø–∏—Å–∞–Ω–æ. –û–ø–∏—Å
—ò–µ –æ–±–∏—á–Ω–æ –æ–≤–∞–∫–∞–≤:

> –û–≤–∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —à–∞—ô–µ `length` –±–∞—ò—Ç–æ–≤–∞ –∏–∑ —Å–∫–ª–∞–¥–∏—à—Ç–∞ `buffer`.

–ù–∞—Ä–∞–≤–Ω–æ, –Ω–∏—ò–µ —Ç–æ —Ü–µ–æ –æ–ø–∏—Å, –∞–ª–∏, —É —Ü–µ–ª–æ–º –æ–ø–∏—Å—É –Ω–µ–º–∞ –Ω–∏—à—Ç–∞ –≤–∏—à–µ –æ —Ç–æ–º–µ
"—à—Ç–∞ –∞–∫–æ —ò–µ `length==0`". –î–∞ –ª–∏ —Å–µ —Ç–æ —Å–º–∞—Ç—Ä–∞ –≥—Ä–µ—à–∫–æ–º? –ê–∫–æ —Å–µ —Å–º–∞—Ç—Ä–∞,
–∫–æ—ò–∞ –≥—Ä–µ—à–∫–∞ —Å–µ –ø—Ä–∏—ò–∞–≤—ô—É—ò–µ (–ø—É—Ç–µ–º `errno` —É –≤–µ—õ–∏–Ω–∏ —Å–ª—É—á–∞—ò–µ–≤–∞). –ê–∫–æ
—Å–µ —Ç–æ –Ω–µ —Å–º–∞—Ç—Ä–∞ –≥—Ä–∞—à–∫–æ–º, –∫–∞–∫–≤–æ —ò–µ –æ—á–µ–∫–∏–≤–∞–Ω–æ –ø–æ–Ω–∞—à–∞—ö–µ? –î–∞ –ª–∏ —ò–µ
–ø–æ–Ω–∞—à–∞—ö–µ —Ä–∞–∑–ª–∏—á–∏—Ç–æ –∑–∞–≤–∏—Å–Ω–æ –æ–¥ –Ω–µ–∫–∏—Ö –æ–ø—Ü–∏—ò–∞ –∑–∞–¥–∞—Ç–∏—Ö –Ω–∞ —É—Ç–∏—á–Ω–∏—Ü–∏,
–ø—Ä–µ —Å–≤–µ–≥–∞, –¥–∞ –ª–∏ —Å–µ –∫–æ—Ä–∏—Å—Ç–∏ –±–ª–æ–∫–∏—Ä–∞—ò—É—õ–∏ –∏–ª–∏ –Ω–µ–±–ª–æ–∫–∏—Ä–∞—ò—É—õ—É –£/–ò.

–®—Ç–æ —ò–µ —Å–∞–¥ –æ–≤–æ —É–æ–ø—à—Ç–µ —Ç–æ–ª–∏–∫–æ –≤–∞–∂–Ω–æ, –ø–∏—Ç–∞–º–æ —Å–µ? –ü–∞, —Å–∫–æ—Ä–æ —Å–≤–∞
–∏–∑–≤–æ—í–µ—ö–∞ —É—Ç–∏—á–Ω–∏—Ü–∞ —Ç–∞–∫–æ—í–µ –æ–ø–∏—Å—É—ò–µ –∏ —Å–ª–µ–¥–µ—õ–µ:

> –§—É–Ω–∫—Ü–∏—ò–∞ –≤—Ä–∞—õ–∞ `-1` —É —Å–ª—É—á–∞—ò—É –≥—Ä–µ—à–∫–µ (—Å–∞ –∫–æ–¥–æ–º –≥—Ä–µ—à–∫–µ —É `errno`) –∏–ª–∏
> –±—Ä–æ—ò –æ–∫—Ç–µ—Ç–∞ –ø–æ—Å–ª–∞—Ç–∏—Ö (_–ø—Ä–∏–º—ô–µ–Ω–∏—Ö_ –∑–∞ `recv()`). –†–µ–∑—É–ª—Ç–∞—Ç
> —ò–µ `0` –∞–∫–æ —ò–µ –≤–µ–∑–∞ –ø–æ —É—Ç–∏—á–Ω–∏—Ü–∏ —Ä–∞—Å–∫–∏–Ω—É—Ç–∞.

–°–ª—É—á–∞—ò "–≤–µ–∑–∞ —Ä–∞—Å–∫–∏–Ω—É—Ç–∞" –æ—á–∏–≥–ª–µ–¥–Ω–æ –∏–º–∞ —Å–º–∏—Å–ª–∞ —Å–∞–º–æ –∑–∞ —É—Ç–∏—á–Ω–∏—Ü–µ –∫–æ—ò–µ
–∫–æ—Ä–∏—Å—Ç–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ —Å–∞ —É—Å–ø–æ—Å—Ç–∞–≤–æ–º –≤–µ–∑–µ - —É–ø—Ä–∞–≤–æ, –∑–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–µ –±–µ–∑
—É—Å–ø–æ—Å—Ç–∞–≤–µ –≤–µ–∑–µ, —Ç—Ä–µ–±–∞ –¥–∞ –∫–æ—Ä–∏—Å—Ç–∏–º–æ `sendto()`).
–£–ø–æ—Ç—Ä–µ–±–∞ `errno` –∫–∞–æ "–º–µ–¥–∏—ò—É–º–∞ –∑–∞ –ø—Ä–µ–Ω–æ—Å –∫–æ–¥–∞ –≥—Ä–µ—à–∫–µ" –Ω–∏—ò–µ —Å–≤—É–¥–∞
–ø—Ä–∏–º–µ—ö–µ–Ω–∞, –º–∞–¥–∞ —ò–µ—Å—Ç–µ –Ω–∞—ò—á–µ—à—õ–∞ - —Ä–µ—Ü–∏–º–æ, –ü—Ä–æ–∑–æ—Ä–∏ –∫–æ—Ä–∏—Å—Ç–µ
[WSAGetLastError](https://msdn.microsoft.com/en-us/library/windows/desktop/ms741580(v=vs.85).aspx).
–ò–ø–∞–∫, —Ç–æ –Ω–∞–º–∞ –Ω–∏—ò–µ –±–∏—Ç–Ω–æ, –∏ —É –æ—Å—Ç–∞—Ç–∫—É –ø—Ä–æ—Å—Ç–æ —Å–º–∞—Ç—Ä–∞—ò–º–æ –¥–∞ –∫–∞–¥–∞ –∫–∞–∂–µ–º–æ
`errno`, —É —Å—Ç–≤–∞—Ä–∏ –º–∏—Å–ª–∏–º–æ –∏ "–∏–ª–∏ –æ–¥–≥–æ–≤–∞—Ä–∞—ò—É—õ–∏ –º–µ–¥–∏—ò—É–º —É –±–∏–±–ª–∏–æ—Ç–µ—Ü–∏
–∫–æ—ò—É –∫–æ—Ä–∏—Å—Ç–∏–º–æ".

–î–∞–∫–ª–µ, –∞–∫–æ —ò–µ —Ä–µ–∑—É–ª—Ç–∞—Ç —Ñ—É–Ω–∫—Ü–∏—ò–µ –±—Ä–æ—ò —É–ø–∏—Å–∞–Ω–∏—Ö –æ–∫—Ç–µ—Ç–∞, –∞ –º–∏ —Å–º–æ "—Ä–µ–∫–ª–∏"
—Ñ—É–Ω–∫—Ü–∏—ò–∏ –¥–∞ —É–ø–∏—à–µ –Ω—É–ª–∞ –æ–∫—Ç–µ—Ç–∞, –∏–º–∞ —Å–º–∏—Å–ª–∞ —Å–º–∞—Ç—Ä–∞—Ç–∏ –¥–∞ —ò–µ —Ñ—É–Ω–∫—Ü–∏—ò–∞
—É—Å–ø–µ–ª–∞ (–∫–æ–ª–∏–∫–æ —ò–µ —Ç–µ—à–∫–æ —É–ø–∏—Å–∞—Ç–∏ –Ω—É–ª–∞ –æ–∫—Ç–µ—Ç–∞?) –∏ –≤—Ä–∞—Ç–∏—Ç–∏ `0`. –ê–ª–∏,
—Ç–æ —Å–µ –Ω–µ —Å–ª–∞–∂–µ —Å–∞ –∏–¥–µ—ò–æ–º –¥–∞ `0` –æ–∑–Ω–∞—á–∞–≤–∞ –¥–∞ —ò–µ –¥–æ—à–ª–æ –¥–æ —Ä–∞—Å–∫–∏–¥–∞ –≤–µ–∑–µ.

–î—Ä—É–≥–∏–º —Ä–µ—á–∏–º–∞, "—á–æ–≤–µ–∫ –æ–≤–¥–µ –Ω–µ –∑–Ω–∞ —à—Ç–∞ –¥–∞ –º–∏—Å–ª–∏"!

–û–≤–æ —ò–µ "–¥–∏–≤–∞–Ω" –ø—Ä–∏–º–µ—Ä –≥—Ä–∞–Ω–∏—á–Ω–æ–≥ —Å–ª—É—á–∞—ò–∞ –∫–æ—ò–∏ –Ω–∏—ò–µ –¥–æ–≤–æ—ô–Ω–æ —Ä–∞–∑–º–∞—Ç—Ä–∞–Ω.
–£ –≤—Ä–µ–º–µ –æ—Å–º–∏—à—ô–∞–≤–∞—ö–∞, –º–æ–≥–ª–æ —ò–µ –¥–∞ —Å–µ –¥–æ—í–µ –¥–æ –¥—Ä—É–≥–∞—á–∏—ò–µ —Å–ø—Ä–µ–≥–µ.
–£ —Ç–æ–∫—É –∏–ª–∏ –Ω–∞–∫–æ–Ω –ø—Ä–∞–≤—ô–µ—ö–∞, –æ–≤–æ —ò–µ –º–æ–≥–ª–æ –¥–∞ —Å–µ –±–æ—ô–µ –æ–ø–∏—à–µ.

## –ö–∞–∫–æ –æ–≤–æ —É —Å—Ç–≤–∞—Ä–∏ —Ä–∞–¥–∏?

–í–µ—Ä–æ–≤–∞—Ç–Ω–æ –í–∞—Å –∑–∞–Ω–∏–º–∞ –∫–∞–∫–æ –æ–≤–æ —É —Å—Ç–≤–∞—Ä–∏ —Ä–∞–¥–∏ "—É —Å—Ç–≤–∞—Ä–Ω–æ–º —Å–≤–µ—Ç—É"?
–ù–∏—Å–∞–º —Å–µ –±–∞–≤–∏–æ –¥–µ—Ç–∞—ô–Ω–∏–º –∏—Å—Ç—Ä–∞–∂–∏–≤–∞—ö–µ–º, –∞–ª–∏, –º–æ—ò–µ –ø—Ä–æ–±–µ —É–∫–∞–∑—É—ò—É –¥–∞:

* `recv(length=0)` –≤—Ä–∞—õ–∞ `-1` —Å–∞ "WOULDBLOCK" —É `errno` –∞–∫–æ —ò–µ —É—Ç–∏—á–Ω–∏—Ü–∞ –Ω–µ–±–ª–æ–∫–∏—Ä–∞—ò—É—õ–∞
* `recv(length=0)` –≤—Ä–∞—õ–∞ `0` –∞–∫–æ —ò–µ —É—Ç–∏—á–Ω–∏—Ü–∞ –±–ª–æ–∫–∏—Ä–∞—ò—É—õ–∞, —ò–µ—Ä –Ω–∏–∫–∞–¥ –Ω–µ —É—Å–ø–µ –¥–∞ –ø—Ä–æ—á–∏—Ç–∞ `0` –æ–∫—Ç–µ—Ç–∞,
  –ø—Ä–æ—Å—Ç–æ —á–µ–∫–∞ "–¥–æ–≤–µ–∫–∞", –æ–¥–Ω–æ—Å–Ω–æ, –¥–æ–∫ –¥—Ä—É–≥–∞ —Å—Ç—Ä–∞–Ω–∞ –Ω–µ —Ä–∞—Å–∫–∏–Ω–µ –≤–µ–∑—É, –∫–∞–¥–∞ –≤—Ä–∞—Ç–∏ `0`
* —Å–ª–∏—á–Ω–æ –≤–∞–∂–∏ –∑–∞ `send(length=0)`
* –Ω–∏—Å–∞–º –ø—Ä–æ–±–∞–æ `sento()` –Ω–∏ `recvfrom()`

–ò–∑ –∏–∑–≤–µ—Å–Ω–æ–≥ —É–≥–ª–∞ –≥–ª–µ–¥–∞—ö–∞, –æ–≤–æ —ò–µ —Å–º–∏—Å–ª–µ–Ω–æ. –ê–ª–∏, —É —Å—Ç–≤–∞—Ä–∏ –Ω–∏—ò–µ.
–£ —Å—Ç–≤–∞—Ä–∏ —ò–µ –ø—Ä–∏–ª–∏—á–Ω–æ –ª–æ—à–µ, —ò–µ—Ä —ò–µ –æ—Å–Ω–æ–≤–Ω–∏ –ø—Ä–æ–±–ª–µ–º, –∞ —Ç–æ —ò–µ _–ø–æ–≥—Ä–µ—à–Ω–∞_
—É–ø–æ—Ç—Ä–µ–±–∞ –æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü–∏—ò–∞, —É–≤–µ–∫ –∏—Å—Ç–∏, –Ω–µ–∑–∞–≤–∏—Å–Ω–æ –æ–¥ —Ç–æ–≥–∞ –¥–∞ –ª–∏ —ò–µ —É—Ç–∏—á–Ω–∏—Ü–∞
–±–ª–æ–∫–∏—Ä–∞—ò—É—õ–∞ –∏–ª–∏ –Ω–µ, –∞ —Ñ—É–Ω–∫—Ü–∏—ò–∞ —Å–µ –¥—Ä—É–≥–∞—á–∏—ò–µ –ø–æ–Ω–∞—à–∞.

## –ö–∞–∫–æ –±–∏ —Ç—Ä–µ–±–∞–ª–æ –¥–∞ —Ä–∞–¥–∏?

–î–∞ –Ω–µ –±—É–¥–µ –¥–∞ —Å–∞–º–æ –∫—É–∫–∞–º–æ –∫–∞–∫–æ –Ω–µ—à—Ç–æ –Ω–µ –≤–∞—ô–∞, –¥–∞ –≤–∏–¥–∏–º–æ –∫–∞–∫–æ –±–∏
–æ–≤–æ —Ç—Ä–µ–±–∞–ª–æ –¥–∞ —Ä–∞–¥–∏.

–†–µ—à–µ—ö–µ —É "–∑–∞—Ç–µ—á–µ–Ω–æ–º —Å—Ç–∞—ö—É" –±–∏ –±–∏–ª–æ –¥–∞ –ø—Ä–æ–≥–ª–∞—Å–∏–º–æ `length=0` –∑–∞ –≥—Ä–µ—à–∫—É,
–¥–∞–∫–ª–µ, –≤—Ä–∞—Ç–∏–º–æ `-1` –∏ —É `errno` —É–ø–∏—à–µ–º–æ `BUFFER_CANT_BE_EMPTY` (—Ç–∞–∫–æ
–Ω–µ–∫–∞–∫–∞–≤ –∫–æ–¥ –º–æ–∂–¥–∞ –≤–µ—õ –ø–æ—Å—Ç–æ—ò–∏ - –∞–∫–æ –Ω–µ –ø–æ—Å—Ç–æ—ò–∏, –¥–æ–¥–∞–º–æ –≥–∞).

–ë–æ—ô–∞ —Å–ø—Ä–µ–≥–∞ –±–∏ –±–∏–ª–∞ –¥–∞ –Ω–µ–º–∞–º–æ "–ø–æ—Å–µ–±–Ω–µ –≤—Ä–µ–¥–Ω–æ—Å—Ç–∏" –∑–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç.
–ù–µ–∫–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç —É–≤–µ–∫ –±—É–¥–µ –∫–æ–¥ –≥—Ä–µ—à–∫–µ (`0` –∞–∫–æ –Ω–µ–º–∞ –≥—Ä–µ—à–∫–µ), –∞ "—Å—Ç–≤–∞—Ä–Ω–∏
–±—Ä–æ—ò –æ–∫—Ç–µ—Ç–∞" –¥–∞—Ç–∏ –∞–∫–æ –∏–∑–ª–∞–∑–Ω–∏ (–∏–ª–∏ —É–ª–∞–∑–Ω–æ-–∏–∑–ª–∞–∑–Ω–∏) –ø–∞—Ä–∞–º–µ—Ç–∞—Ä —Ñ—É–Ω–∫—Ü–∏—ò–µ.
–†–∞—Å–∫–∏–¥ –≤–µ–∑–µ –±–∏ –±–∏–æ –ø–æ—Å–µ–±–∞–Ω –∫–æ–¥ –≥—Ä–µ—à–∫–µ, –ø–æ–ø—É—Ç `CONNECTION_CLOSED`. –î–∞–∫–ª–µ,
–∞–∫–æ –±–∏ –Ω–µ–∫–æ –∑–∞–¥–∞–æ `length=0`, –ø—Ä–æ—Å—Ç–æ –±–∏ —Å–º–æ –≤—Ä–∞—Ç–∏–ª–∏ `0` (–Ω–µ–º–∞ –≥—Ä–µ—à–∫–µ).

## –ù–∞—Ä–∞–≤–æ—É—á–µ–Ω–∏—ò–µ

–ì—Ä–∞–Ω–∏—á–Ω–∏ —Å–ª—É—á–∞—ò–µ–≤–∏ –º–æ—Ä–∞—ò—É –¥–∞ —Å–µ –æ–±—Ä–∞–¥–µ, –±–∞—à –∫–∞–æ –∏ –±–∏–ª–æ –∫–æ—ò–∏ –¥—Ä—É–≥–∏
—Å–ª—É—á–∞—ò. –ß–∞–∫ –∏–∞–∫–æ "–Ω–µ–º–∞—ò—É —Å–º–∏—Å–ª–∞", "–Ω–µ –∑–Ω–∞—á–µ –º–∏ –Ω–∏—à—Ç–∞", "–¥–æ–≤–æ—ô–Ω–æ
—ò–µ –¥–∞ —Å–µ –Ω–∏—à—Ç–∞ –Ω–µ —Å–ø—É—Ü–∞"... –í—Ä–µ–º–µ –ø–æ—Ç—Ä–æ—à–µ–Ω–æ –¥–∞ —Å–µ —Ä–∞–∑—ò–∞—à—ö–∞–≤–∞ —à—Ç–∞
—ò–µ —Ç—É —à—Ç–∞, —à—Ç–∞ —ò–µ –æ—á–µ–∫–∏–≤–∞–Ω–æ –ø–æ–Ω–∞—à–∞—ö–µ –∞ —à—Ç–∞ –Ω–µ –∏ —à—Ç–∞ –¥–∞ —Å–µ —Å —Ç–∏–º —Ä–∞–¥–∏
—ò–µ –ø—Ä–µ–≤–µ–ª–∏–∫–æ —É –ø–æ—Ä–µ—í–µ—ö—É —Å–∞ –≤—Ä–µ–º–µ–Ω–æ–º –∫–æ—ò–µ —ò–µ –ø–æ—Ç—Ä–µ–±–Ω–æ –¥–∞ —Å–µ –æ–≤–æ
–ø—Ä–∞–≤–∏–ª–Ω–æ –Ω–∞–ø—Ä–∞–≤–∏ –∏ –æ–ø–∏—à–µ (–∏ –ø—Ä–æ–≤–µ—Ä–∏).
